###	文本（数据）处理

> ​	掌握常用的文本处理小技巧，有利于提高效率，事半功倍



###	正则表达式

####	字符匹配

| 字符     | 说明                                                    |
| :------- | :------------------------------------------------------ |
| `.`      | 匹配任意单个字符（除了换行符）                          |
| `[abc]`  | 匹配 a、b 或 c 中的任意一个字符                         |
| `[^abc]` | 匹配除 a、b、c 以外的任意字符                           |
| `[a-z]`  | 匹配 a 到 z 范围内的任意字符                            |
| `\d`     | 匹配数字，等价于 [0-9]                                  |
| `\D`     | 匹配非数字，等价于  [ ^0-9]                             |
| `\w`     | 匹配单词字符（字母、数字、下划线），等价于 [A-Za-z0-9_] |
| `\W`     | 匹配非单词字符                                          |
| `\s`     | 匹配空白字符（空格、制表符、换行符等）                  |
| `\S`     | 匹配非空白字符                                          |

####	量词（重复次数）

| 量词    | 说明      | 等价写法 |
| :------ | :-------- | :------- |
| `*`     | 0次或多次 | {0,}     |
| `+`     | 1次或多次 | {1,}     |
| `?`     | 0次或1次  | {0,1}    |
| `{n}`   | 恰好 n 次 |          |
| `{n,}`  | 至少 n 次 |          |
| `{n,m}` | n 到 m 次 |          |

####	位置锚点

| 锚点 | 说明                             |
| :--- | :------------------------------- |
| `^`  | 匹配字符串的开始位置             |
| `$`  | 匹配字符串的结束位置             |
| `\b` | 匹配单词边界（单词的开头或结尾） |
| `\B` | 匹配非单词边界                   |

####	分组与捕获

| 语法               | 说明                         |
| :----------------- | :--------------------------- |
| `(pattern)`        | 捕获分组，会被捕获到分组中   |
| `(?:pattern)`      | 非捕获分组，不会捕获到分组中 |
| `(?<name>pattern)` | 命名捕获分组                 |
| `\1`, `\2`, ...    | 引用前面的分组               |

**示例：**

```powershell
(ab)+         					# 匹配 "ab", "abab", "ababab", ...
(?:ab)+       					# 同样匹配，但不会捕获分组
(hello) \1    					# 匹配 "hello hello"
(?<year>\d{4})-(?<month>\d{2})  # 命名分组，可提取 year 和 month
```

####	转义字符

```bash
\.       # 匹配字面值 "."
\*       # 匹配字面值 "*"
\\       # 匹配字面值 "\"
\( \)    # 匹配字面值 "(" 和 ")"
```

####	贪婪与非贪婪匹配

| 模式       | 说明                     | 示例  |
| :--------- | :----------------------- | :---- |
| 贪婪匹配   | 默认模式，尽可能多地匹配 | `.*`  |
| 非贪婪匹配 | 加 `?`，尽可能少地匹配   | `.*?` |

**示例：**

```bash
<.*>      # 贪婪匹配：匹配整个 "<div>content</div>"
<.*?>     # 非贪婪匹配：匹配 "<div>" 和 "</div>"
```

####	预查（Lookaround）

| 语法           | 名称         | 说明                 |
| :------------- | :----------- | :------------------- |
| `(?=pattern)`  | 正向肯定预查 | 后面必须匹配 pattern |
| `(?!pattern)`  | 正向否定预查 | 后面不能匹配 pattern |
| `(?<=pattern)` | 反向肯定预查 | 前面必须匹配 pattern |
| `(?<!pattern)` | 反向否定预查 | 前面不能匹配 pattern |

**示例：**

```bash
\d(?=px)     # 匹配后面跟着 "px" 的数字
\d(?!px)     # 匹配后面不跟 "px" 的数字
(?<=\$)\d+   # 匹配前面有 "$" 的数字
(?<!\$)\d+   # 匹配前面没有 "$" 的数字
```

####	标志（Flags）

| 标志 | 说明         | 示例                             |
| :--- | :----------- | :------------------------------- |
| `i`  | 忽略大小写   | `/hello/i` 匹配 "Hello"、"HELLO" |
| `g`  | 全局匹配     | 匹配所有符合的，不只是第一个     |
| `m`  | 多行模式     | `^` 和 `$` 匹配每行的开头和结尾  |
| `s`  | 单行模式     | `.` 匹配包括换行符在内的所有字符 |
| `u`  | Unicode 模式 | 正确处理 Unicode 字符            |

####	常用正则表达式示例

- **邮箱验证**

  ```bash
  ^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$
  ```

- **手机号码（大陆）**

  ```bash
  ^1[3-9]\d{9}$
  ```

- URL匹配

  ```bash
  https?://[^\s/$.?#].[^\s]*
  ```

- 日期（YYYY-MM-DD）

  ```bash
  ^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01])$
  ```

- IP地址

  ```bash
  ^((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$
  ```

- 匹配中文字符

  ```bash
  [\u4e00-\u9fa5]
  ```

  

###	Sublime Text 编辑器



| 快捷键 (Windows/Linux) | 功能                                                         | 效率点解析                        |
| :--------------------- | :----------------------------------------------------------- | :-------------------------------- |
| `Ctrl+D`               | **多重选择**：选中光标处的单词或已选文本，重复按可选中下一个相同的词。Ctrl+K 跳过当前选择。 | 一次操作，同时修改多个相同内容。  |
| `Ctrl+L`               | 快速选中整行。                                               | 整行操作的起点。                  |
| `Ctrl+Shift+L`         | 将当前多行选区，拆分为多个独立光标。                         | 对多行进行同时、并行的编辑。      |
| `Ctrl+Shift+D`         | **复制整行**。如果先选中了多行，则复制多行。                 | 比“复制-粘贴”更快，且能保持格式。 |
| `Ctrl+Shift+K`         | **删除整行**。                                               | \快速清理不需要的整行代码或文本。 |
| `Ctrl+Shift+↑/↓`       | **上下移动当前行或选区**。                                   | 调整代码/文本顺序。               |
| `Ctrl+Enter`           | 在当前行**下方**插入新行。                                   | 光标无需移动到行尾。              |



####	光标操作

手动添加不连续光标：

- Ctrl + 鼠标点击：没点一次加一个光标，位置完全自由。
- Ctrl + Alt + **↑ / ↓**：在当前行上方或下方快速插入新光标，连按多次可一口气加多行光标



####	格式化日期

如将 YYYYMMDD 转换 YYYY年MM月DD日：

1. 按 Ctrl + H 打开 *查找和替换* 面板
2. 使用正则表达式，*查找* 中输入 `(\d{4})(\d{2})(\d{2})`
3. 在“替换为”框中输入：`$1年$2月$3日`
   - `$1`, `$2`, `$3` 分别对应前面捕获的“年”、“月”、“日”分组。
4. 点击 `Replace All` （全部替换）。

